{"version":3,"sources":["webpack://gatsby-test/./node_modules/@material-ui/icons/HelpOutline.js","webpack://gatsby-test/./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js","webpack://gatsby-test/./node_modules/@material-ui/core/esm/internal/SwitchBase.js","webpack://gatsby-test/./node_modules/@material-ui/core/esm/internal/svg-icons/CheckBoxOutlineBlank.js","webpack://gatsby-test/./node_modules/@material-ui/core/esm/internal/svg-icons/CheckBox.js","webpack://gatsby-test/./node_modules/@material-ui/core/esm/internal/svg-icons/IndeterminateCheckBox.js","webpack://gatsby-test/./node_modules/@material-ui/core/esm/Checkbox/Checkbox.js","webpack://gatsby-test/./src/pages/DownloadButton.js","webpack://gatsby-test/./node_modules/@material-ui/core/esm/AppBar/AppBar.js","webpack://gatsby-test/./src/pages/Help.js","webpack://gatsby-test/./src/pages/components/compatibilityCheckDialog.js","webpack://gatsby-test/./src/pages/index.js"],"names":["_interopRequireDefault","_interopRequireWildcard","exports","React","_default","default","createElement","d","FormControlLabel","props","ref","checked","classes","className","control","disabledProp","disabled","label","inputRef","_props$labelPlacement","labelPlacement","other","name","onChange","value","muiFormControl","useFormControl","controlProps","forEach","key","root","concat","capitalize","Typography","component","withStyles","theme","display","alignItems","cursor","verticalAlign","WebkitTapHighlightColor","marginLeft","marginRight","labelPlacementStart","flexDirection","labelPlacementTop","labelPlacementBottom","color","palette","text","SwitchBase","autoFocus","checkedProp","checkedIcon","defaultChecked","icon","id","inputProps","onBlur","onFocus","readOnly","required","tabIndex","type","_useControlled","useControlled","controlled","Boolean","state","_useControlled2","setCheckedState","hasLabelFor","IconButton","role","undefined","event","input","newChecked","target","padding","position","opacity","width","height","top","left","margin","zIndex","createSvgIcon","defaultCheckedIcon","CheckBox","defaultIcon","CheckBoxOutlineBlank","defaultIndeterminateIcon","IndeterminateCheckBox","Checkbox","_props$checkedIcon","_props$color","_props$icon","iconProp","_props$indeterminate","indeterminate","_props$indeterminateI","indeterminateIcon","indeterminateIconProp","_props$size","size","fontSize","secondary","colorPrimary","primary","main","backgroundColor","action","hoverOpacity","colorSecondary","open","setOpen","downloadClassifer","setDownloadClassifer","downloadTrainingSet","setDownloadTrainingSet","Tooltip","title","aria-label","Fab","downloadButtonEnabled","onClick","style","positive","SaveAlt","Dialog","onClose","aria-labelledby","DialogContent","FormLabel","Button","variant","bottom","console","log","handleDownload","AppBar","_props$position","Paper","square","elevation","backgroundColorDefault","grey","boxSizing","appBar","flexShrink","positionFixed","right","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","getContrastText","contrastText","colorInherit","colorTransparent","Transition","Slide","direction","handleClose","HelpOutline","fullScreen","TransitionComponent","Toolbar","Close","DialogTitle","DialogContentText","href","CompatibilityCheck","useState","hasCompatError","setHasCompatError","useEffect","OffscreenCanvas","ImageBitmap","Worker","indexedDB","fullWidth","align","anchorEl","setAnchorEl","unclassified","negative","tileState","setTileState","fetchButtonEnabled","setFetchButtonEnabled","trainButtonEnabled","setTrainButtonEnabled","evaluateButtonEnabled","setEvaluateButtonEnabled","setDownloadButtonEnabled","uploadButtonEnabled","setUploadButtonEnabled","uploading","setUploading","success","setSuccess","fetching","setFetching","initialFetchingPositiveNegative","setInitialFetchingPositiveNegative","openFetchDropdown","setOpenFetchDropdown","openTrainDropdown","setOpenTrainDropdown","canvasWebWorker","setCanvasWebWorker","dataWebWorker","setDataWebWorker","classifierWebWorker","setClassifierWebWorker","confusionMatrix","setConfusionMatrix","trainingObject","setTrainingObject","scoreTableIsUpToDate","setScoreTableIsUpToDate","scoreTable","setScoreTable","scoreAlphas","setScoreAlphas","histogramData","setHistogramData","setAlpha","setBeta","trainingLossCanvasParentRef","trainingAccuracyCanvasParentRef","selectedFetchImageNumber","setSelectedFetchImageNumber","fetchImageNumberButtonEnabled","setFetchImageNumberButtonEnabled","cellBigPictureDialogOpen","setCellBigPictureDialogOpen","jones","bigPictureSource","setBigPictureSource","bigPictureTitle","setBigPictureTitle","currentlyScoring","setCurrentlyScoring","scoreTableCsvString","setScoreTableCsvString","window","addEventListener","e","preventDefault","returnValue","dataToCanvasWorkerChannel","MessageChannel","dataToClassifierWorkerChannel","canvasToClassifierWorkerChannel","constructWebWorker","postMessage","port1","port2","sourcePath","worker","message","handleCloseFetchDropDown","fetchType","handleFetch","handleOpenCellBigPicture","cellPair","ImageNumber","ObjectNumber","workerActionPromise","getType","getArgs","then","blobUrl","data","getResult","handleOpenBigPicture","imageNumber","clearedUnclassifiedTileState","amount","cellPairs","blobUrls","replaceUnclassifiedTileStatePromise","newTileState","accumCellPairs","iterationCount","totalIterationCount","length","classType","filteredCellPairs","i","sampledCellPair","notYetSampled","j","push","confirm","slicedCellPairs","slice","sortedCellPairs","slicedSortedCellPairs","alert","shuffledSliceCellPairs","cellPairIndicesLeft","Array","fill","map","randomIndexIndex","Math","floor","random","randomIndex","splice","trainingData","dataRow","positiveCellPairs","filter","idx","trainingLabels","negativeCellPairs","desiredCellPairs","handleTrain","element","totalCellPairs","newLabels","dataRows","newTrainingObject","classifierType","featureIndicesToUse","trainSequencePromise","currentTrainingObject","UUID","updateCanvasesListener","uuid","tfvis","current","trainLogs","ticks","loss","accuracy","removeEventListener","newConfusionMatrix","uuidv4","Promise","resolve","selfDestructingEventHandler","handleUpload","eventObject","fileListObject","files","initialTrainingObject","zeros","ones","constructTileStatePromiseByClass","dataToCsvString","headers","csvContent","join","l","handleScoreAll","newScoreTableObject","scoreTableObject","scoreDataRows","Object","keys","imageToCountsMap","parseInt","total","ratio","ratios","adjustratio","adjustedRatios","alphaValue","alphas","betaValue","adjustedRatiosData","values","x","csvdata","createTrainingSetTextFromTileState","result","Date","toLocaleString","cellData","X","Y","downloadType","trainingSetText","downloadFile","tf","model","save","error","lastTileState","newDataURLs","newCellPairs","all","cellDatas","unclassifiedTileState","dataURL","address","info","dataURLs","cellStates","handleClickCloseImNumFetchDropdown","sourceId","sourceIndex","targetIndex","targetId","move","swap","overflowX","marginTop","src","logo","maxHeight","marginBottom","outlineColor","container","justify","spacing","item","aria-controls","aria-haspopup","currentTarget","keepMounted","onSubmit","noValidate","step","min","textAlign","paddingLeft","userSelect","boxesPerRow","rowHeight","minHeight","minWidth","maxWidth","onDoubleClick","backgroundImage","justifyContent","paddingRight","overflowY","alignSelf"],"mappings":"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","file":"component---src-pages-index-js-21016ac7c05a0729e4f6.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\"\n}), 'HelpOutline');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport { useFormControl } from '../FormControl';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      cursor: 'pointer',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      WebkitTapHighlightColor: 'transparent',\n      marginLeft: -11,\n      marginRight: 16,\n      // used for row presentation of radio/checkbox\n      '&$disabled': {\n        cursor: 'default'\n      }\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"start\"`. */\n    labelPlacementStart: {\n      flexDirection: 'row-reverse',\n      marginLeft: 16,\n      // used for row presentation of radio/checkbox\n      marginRight: -11\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"top\"`. */\n    labelPlacementTop: {\n      flexDirection: 'column-reverse',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"bottom\"`. */\n    labelPlacementBottom: {\n      flexDirection: 'column',\n      marginLeft: 16\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the label's Typography component. */\n    label: {\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    }\n  };\n};\n/**\n * Drop in replacement of the `Radio`, `Switch` and `Checkbox` component.\n * Use this component if you want to display an extra label.\n */\n\nvar FormControlLabel = /*#__PURE__*/React.forwardRef(function FormControlLabel(props, ref) {\n  var checked = props.checked,\n      classes = props.classes,\n      className = props.className,\n      control = props.control,\n      disabledProp = props.disabled,\n      inputRef = props.inputRef,\n      label = props.label,\n      _props$labelPlacement = props.labelPlacement,\n      labelPlacement = _props$labelPlacement === void 0 ? 'end' : _props$labelPlacement,\n      name = props.name,\n      onChange = props.onChange,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"checked\", \"classes\", \"className\", \"control\", \"disabled\", \"inputRef\", \"label\", \"labelPlacement\", \"name\", \"onChange\", \"value\"]);\n\n  var muiFormControl = useFormControl();\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"label\", _extends({\n    className: clsx(classes.root, className, labelPlacement !== 'end' && classes[\"labelPlacement\".concat(capitalize(labelPlacement))], disabled && classes.disabled),\n    ref: ref\n  }, other), /*#__PURE__*/React.cloneElement(control, controlProps), /*#__PURE__*/React.createElement(Typography, {\n    component: \"span\",\n    className: clsx(classes.label, disabled && classes.disabled)\n  }, label));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFormControlLabel'\n})(FormControlLabel);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport useControlled from '../utils/useControlled';\nimport useFormControl from '../FormControl/useFormControl';\nimport withStyles from '../styles/withStyles';\nimport IconButton from '../IconButton';\nexport var styles = {\n  root: {\n    padding: 9\n  },\n  checked: {},\n  disabled: {},\n  input: {\n    cursor: 'inherit',\n    position: 'absolute',\n    opacity: 0,\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n    margin: 0,\n    padding: 0,\n    zIndex: 1\n  }\n};\n/**\n * @ignore - internal component.\n */\n\nvar SwitchBase = /*#__PURE__*/React.forwardRef(function SwitchBase(props, ref) {\n  var autoFocus = props.autoFocus,\n      checkedProp = props.checked,\n      checkedIcon = props.checkedIcon,\n      classes = props.classes,\n      className = props.className,\n      defaultChecked = props.defaultChecked,\n      disabledProp = props.disabled,\n      icon = props.icon,\n      id = props.id,\n      inputProps = props.inputProps,\n      inputRef = props.inputRef,\n      name = props.name,\n      onBlur = props.onBlur,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      readOnly = props.readOnly,\n      required = props.required,\n      tabIndex = props.tabIndex,\n      type = props.type,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"autoFocus\", \"checked\", \"checkedIcon\", \"classes\", \"className\", \"defaultChecked\", \"disabled\", \"icon\", \"id\", \"inputProps\", \"inputRef\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"readOnly\", \"required\", \"tabIndex\", \"type\", \"value\"]);\n\n  var _useControlled = useControlled({\n    controlled: checkedProp,\n    default: Boolean(defaultChecked),\n    name: 'SwitchBase',\n    state: 'checked'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      checked = _useControlled2[0],\n      setCheckedState = _useControlled2[1];\n\n  var muiFormControl = useFormControl();\n\n  var handleFocus = function handleFocus(event) {\n    if (onFocus) {\n      onFocus(event);\n    }\n\n    if (muiFormControl && muiFormControl.onFocus) {\n      muiFormControl.onFocus(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    if (muiFormControl && muiFormControl.onBlur) {\n      muiFormControl.onBlur(event);\n    }\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var newChecked = event.target.checked;\n    setCheckedState(newChecked);\n\n    if (onChange) {\n      // TODO v5: remove the second argument.\n      onChange(event, newChecked);\n    }\n  };\n\n  var disabled = disabledProp;\n\n  if (muiFormControl) {\n    if (typeof disabled === 'undefined') {\n      disabled = muiFormControl.disabled;\n    }\n  }\n\n  var hasLabelFor = type === 'checkbox' || type === 'radio';\n  return /*#__PURE__*/React.createElement(IconButton, _extends({\n    component: \"span\",\n    className: clsx(classes.root, className, checked && classes.checked, disabled && classes.disabled),\n    disabled: disabled,\n    tabIndex: null,\n    role: undefined,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"input\", _extends({\n    autoFocus: autoFocus,\n    checked: checkedProp,\n    defaultChecked: defaultChecked,\n    className: classes.input,\n    disabled: disabled,\n    id: hasLabelFor && id,\n    name: name,\n    onChange: handleInputChange,\n    readOnly: readOnly,\n    ref: inputRef,\n    required: required,\n    tabIndex: tabIndex,\n    type: type,\n    value: value\n  }, inputProps)), checked ? checkedIcon : icon);\n}); // NB: If changed, please update Checkbox, Switch and Radio\n// so that the API documentation is updated.\n\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateSwitchBase'\n})(SwitchBase);","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z\"\n}), 'IndeterminateCheckBox');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport SwitchBase from '../internal/SwitchBase';\nimport CheckBoxOutlineBlankIcon from '../internal/svg-icons/CheckBoxOutlineBlank';\nimport CheckBoxIcon from '../internal/svg-icons/CheckBox';\nimport { fade } from '../styles/colorManipulator';\nimport IndeterminateCheckBoxIcon from '../internal/svg-icons/IndeterminateCheckBox';\nimport capitalize from '../utils/capitalize';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      color: theme.palette.text.secondary\n    },\n\n    /* Pseudo-class applied to the root element if `checked={true}`. */\n    checked: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Pseudo-class applied to the root element if `indeterminate={true}`. */\n    indeterminate: {},\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled\n      }\n    }\n  };\n};\nvar defaultCheckedIcon = /*#__PURE__*/React.createElement(CheckBoxIcon, null);\nvar defaultIcon = /*#__PURE__*/React.createElement(CheckBoxOutlineBlankIcon, null);\nvar defaultIndeterminateIcon = /*#__PURE__*/React.createElement(IndeterminateCheckBoxIcon, null);\nvar Checkbox = /*#__PURE__*/React.forwardRef(function Checkbox(props, ref) {\n  var _props$checkedIcon = props.checkedIcon,\n      checkedIcon = _props$checkedIcon === void 0 ? defaultCheckedIcon : _props$checkedIcon,\n      classes = props.classes,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'secondary' : _props$color,\n      _props$icon = props.icon,\n      iconProp = _props$icon === void 0 ? defaultIcon : _props$icon,\n      _props$indeterminate = props.indeterminate,\n      indeterminate = _props$indeterminate === void 0 ? false : _props$indeterminate,\n      _props$indeterminateI = props.indeterminateIcon,\n      indeterminateIconProp = _props$indeterminateI === void 0 ? defaultIndeterminateIcon : _props$indeterminateI,\n      inputProps = props.inputProps,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"checkedIcon\", \"classes\", \"color\", \"icon\", \"indeterminate\", \"indeterminateIcon\", \"inputProps\", \"size\"]);\n\n  var icon = indeterminate ? indeterminateIconProp : iconProp;\n  var indeterminateIcon = indeterminate ? indeterminateIconProp : checkedIcon;\n  return /*#__PURE__*/React.createElement(SwitchBase, _extends({\n    type: \"checkbox\",\n    classes: {\n      root: clsx(classes.root, classes[\"color\".concat(capitalize(color))], indeterminate && classes.indeterminate),\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    color: color,\n    inputProps: _extends({\n      'data-indeterminate': indeterminate\n    }, inputProps),\n    icon: /*#__PURE__*/React.cloneElement(icon, {\n      fontSize: icon.props.fontSize === undefined && size === \"small\" ? size : icon.props.fontSize\n    }),\n    checkedIcon: /*#__PURE__*/React.cloneElement(indeterminateIcon, {\n      fontSize: indeterminateIcon.props.fontSize === undefined && size === \"small\" ? size : indeterminateIcon.props.fontSize\n    }),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCheckbox'\n})(Checkbox);","import React from 'react';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Row, Col, Container } from 'reactstrap';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nfunction DownloadButton(props) {\r\n\tconst [open, setOpen] = React.useState(false);\r\n\tconst [downloadClassifer, setDownloadClassifer] = React.useState(false);\r\n\tconst [downloadTrainingSet, setDownloadTrainingSet] = React.useState(false);\r\n\r\n\tconst handleDownloadClassifer = (event) => {\r\n\t\tsetDownloadClassifer(!downloadClassifer);\r\n\t};\r\n\r\n\tconst handleDownloadTrainingSet = (event) => {\r\n\t\tsetDownloadTrainingSet(!downloadTrainingSet);\r\n\t};\r\n\r\n\tconst handleClickOpen = () => {\r\n\t\tsetOpen(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t\tsetDownloadClassifer(false);\r\n\t\tsetDownloadTrainingSet(false);\r\n\t};\r\n\r\n\tfunction download() {\r\n\t\tconsole.log(downloadClassifer);\r\n\t\tif (downloadClassifer && downloadTrainingSet) {\r\n\t\t\tprops.handleDownload('TrainingSetClassifierSpec');\r\n\t\t} else if (downloadClassifer) {\r\n\t\t\tprops.handleDownload('ClassifierSpec');\r\n\t\t} else if (downloadTrainingSet) {\r\n\t\t\tprops.handleDownload('TrainingSet');\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Tooltip title=\"Download\" aria-label=\"download\">\r\n\t\t\t\t<Fab\r\n\t\t\t\t\t//\tsize=\"medium\"\r\n\t\t\t\t\taria-label=\"save\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tcomponent=\"label\"\r\n\t\t\t\t\tdisabled={!props.downloadButtonEnabled}\r\n\t\t\t\t\tonClick={handleClickOpen}\r\n\t\t\t\t\t// style={{ height: '5vw', width: '5vw'}}\r\n\t\t\t\t\tstyle={{ positive: 'relative' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t<SaveAltIcon\r\n\t\t\t\t\t// style={{ height: '50%', width: '50%' }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fab>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<FormLabel component=\"legend\">Download</FormLabel>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tcontrol={<Checkbox onChange={handleDownloadClassifer} color=\"primary\" />}\r\n\t\t\t\t\t\tlabel=\"Classifer\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tcontrol={<Checkbox onChange={handleDownloadTrainingSet} color=\"primary\" />}\r\n\t\t\t\t\t\tlabel=\"Training Set\"\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Button size=\"small\" variant=\"contained\" style={{ bottom: 10 }} onClick={download}>\r\n\t\t\t\t\t\tSave\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DownloadButton;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nimport Paper from '../Paper';\nexport var styles = function styles(theme) {\n  var backgroundColorDefault = theme.palette.type === 'light' ? theme.palette.grey[100] : theme.palette.grey[900];\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      boxSizing: 'border-box',\n      // Prevent padding issue with the Modal and fixed positioned AppBar.\n      zIndex: theme.zIndex.appBar,\n      flexShrink: 0\n    },\n\n    /* Styles applied to the root element if `position=\"fixed\"`. */\n    positionFixed: {\n      position: 'fixed',\n      top: 0,\n      left: 'auto',\n      right: 0,\n      '@media print': {\n        // Prevent the app bar to be visible on each printed page.\n        position: 'absolute'\n      }\n    },\n\n    /* Styles applied to the root element if `position=\"absolute\"`. */\n    positionAbsolute: {\n      position: 'absolute',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"sticky\"`. */\n    positionSticky: {\n      //  sticky is not supported by IE 11.\n      position: 'sticky',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"static\"`. */\n    positionStatic: {\n      position: 'static'\n    },\n\n    /* Styles applied to the root element if `position=\"relative\"`. */\n    positionRelative: {\n      position: 'relative'\n    },\n\n    /* Styles applied to the root element if `color=\"default\"`. */\n    colorDefault: {\n      backgroundColor: backgroundColorDefault,\n      color: theme.palette.getContrastText(backgroundColorDefault)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"transparent\"`. */\n    colorTransparent: {\n      backgroundColor: 'transparent',\n      color: 'inherit'\n    }\n  };\n};\nvar AppBar = /*#__PURE__*/React.forwardRef(function AppBar(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$position = props.position,\n      position = _props$position === void 0 ? 'fixed' : _props$position,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"position\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    square: true,\n    component: \"header\",\n    elevation: 4,\n    className: clsx(classes.root, classes[\"position\".concat(capitalize(position))], classes[\"color\".concat(capitalize(color))], className, position === 'fixed' && 'mui-fixed'),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAppBar'\n})(AppBar);","import React from 'react';\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction Help() {\r\n\tconst [open, setOpen] = React.useState(false);\r\n\r\n\tconst handleClickOpen = () => {\r\n\t\tsetOpen(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Tooltip title=\"Help\" aria-label=\"help\">\r\n\t\t\t\t<IconButton color=\"primary\" onClick={handleClickOpen} style={{ height: 65, width: 65 }}>\r\n\t\t\t\t\t<HelpOutlineIcon size=\"large\" style={{ height: 50, width: 50 }} />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n\t\t\t\t<AppBar>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">\r\n\t\t\t\t\t\t\tInfo\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\taria-label=\"close\"\r\n\t\t\t\t\t\t\tstyle={{ marginLeft: '93%', position: 'fixed' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\r\n\t\t\t\t<DialogTitle>Subscribe</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<br></br>\r\n\t\t\t\t\t<h5>Getting Started </h5>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\tImport your data files from Cell Profiler by clicking the upload data button in the right\r\n\t\t\t\t\t\tcorner. Below is a link to download Cell Profiler, if you still need to prepare you data for\r\n\t\t\t\t\t\timport:\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<a href=\"https://cellprofiler.org/\">https://cellprofiler.org/</a>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\tIf you are just looking to give CPA Web a try, download the example data at the link below and\r\n\t\t\t\t\t\tunzip it before uploading to the program:\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<a href=\"https://cellprofileranalyst.org/examples\">https://cellprofileranalyst.org/examples</a>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\tYou will know your data is loaded when the green circle stops spinning.\r\n\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t</DialogContentText>\r\n\r\n\t\t\t\t\t<h5>Using CPA Web </h5>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\tOnce your data is uploaded, you can begin fetching cells to classify!\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\tYou have the option to fetch: random cells from your data set, positive cells (cells that\r\n\t\t\t\t\t\tpossess the phenotype/ trait you are classifying for), negative cells (cells that do not possess\r\n\t\t\t\t\t\tthe phenotype/ trait you are classifying for), cells from a specific image in your data set,\r\n\t\t\t\t\t\tcells from your positive or negative training set, and cells that are confusing to classifier\r\n\t\t\t\t\t\t(the cells that the classifier is most unsure are positive or negative). You can also fetch the\r\n\t\t\t\t\t\tcells the classifier thinks arre most positive or most negative from a large sample. However if\r\n\t\t\t\t\t\ta particular phenotype is rare the program may ask for confirmation to continue.\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\tIt is a good idea to start by fetching random cells so the model can begin to learn based on\r\n\t\t\t\t\t\tyour classifications.\r\n\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t</DialogContentText>\r\n\r\n\t\t\t\t\t<h5>Classifying Cells </h5>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\tOnce you have fetched cells and they appear in the unclassified bin, you can begin dragging and\r\n\t\t\t\t\t\tdropping the cells into the positive and negative bin based on the phenotype/trait you are\r\n\t\t\t\t\t\tclassifying for.\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\tWhen you hover over cell images you learn their image and object numbers. If you double click on\r\n\t\t\t\t\t\ta cell, the full image the cell belongs to will pop up and show you where in the image the cell\r\n\t\t\t\t\t\tis coming from.\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\tWhen you feel happy with the cells in the positive and negative bin, you can press the train\r\n\t\t\t\t\t\tbutton to train the model. While the model is training you will see loss and accuracy graphs\r\n\t\t\t\t\t\tinforming you on the models progress.\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\tIf there are cells you are unsure about or do not want to include in the training set, simply\r\n\t\t\t\t\t\tfetch again and the cells go away. Also note that when you press train the cells in the\r\n\t\t\t\t\t\tunclassified bin will go away.\r\n\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t</DialogContentText>\r\n\r\n\t\t\t\t\t<h5>Exploring The Data </h5>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\tTo evaluate the state of the machine learning model you can press the evaluate button to see the\r\n\t\t\t\t\t\tconfusion matrix.\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\tTo gain more insight on the cell images scorings, you can click on the score all button. This\r\n\t\t\t\t\t\tdisplays a histogram of the data distribution and a table containing information about all the\r\n\t\t\t\t\t\tcell images, their total, positive, negative, ratio, and adjusted ratio values. You can sort the\r\n\t\t\t\t\t\tvalues in the table from biggest to smallest by hovering over the column label and selecting the\r\n\t\t\t\t\t\tdirection of the arrow. You can download the CSV of the score all table by pressing the save\r\n\t\t\t\t\t\ticon in the right corner of the score all window.\r\n\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t</DialogContentText>\r\n\r\n\t\t\t\t\t<h5>Saving Your Work</h5>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\tWhen you are satisfied with your model, simply click the download button in the top right corner\r\n\t\t\t\t\t\tof the main screen to download your classification model and training set.\r\n\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t</DialogContentText>\r\n\r\n\t\t\t\t\t<h5>Additional Questions</h5>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\tIf you have any additional questions on how to use Cell Profiler Analyst Web, please post on the\r\n\t\t\t\t\t\tcell profiler analyst forum:\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<a href=\"https://forum.image.sc/tag/cellprofiler-analyst\">\r\n\t\t\t\t\t\t\thttps://forum.image.sc/tag/cellprofiler-analyst\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\tHappy Classifying!\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Help;\r\n","import Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nexport default function CompatibilityCheck() {\r\n  const [hasCompatError, setHasCompatError] = useState(false);\r\n  useEffect(() => {\r\n    if (\r\n      typeof OffscreenCanvas === \"undefined\" ||\r\n      typeof ImageBitmap === \"undefined\" ||\r\n      typeof Worker === \"undefined\" ||\r\n      typeof indexedDB === \"undefined\"\r\n    ) {\r\n      setHasCompatError(true);\r\n    }\r\n  }, []);\r\n  return (\r\n    <Dialog fullWidth={1000} open={hasCompatError}>\r\n      <DialogTitle>Compatibility Error:</DialogTitle>\r\n      <DialogContentText\r\n        align=\"center\"\r\n        style={{ marginLeft: 20, marginRight: 20 }}\r\n      >\r\n        {\r\n          \"Your browser is not compatible with this app. Please use an up-to-date version of Edge or Chrome.\"\r\n        }\r\n      </DialogContentText>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Row, Col, Container } from \"reactstrap\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Grid,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Card,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport logo from \"../cpa_logo(blue).png\";\r\nimport { Image, Dropdown, DropdownButton } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport SaveAltIcon from \"@material-ui/icons/SaveAlt\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport Evaluate from \"./AbbyUIButtons/UIEvaluateButton\";\r\nimport ScoreAll from \"./UIScoreAllButton\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Help from \"./Help\";\r\n\r\nimport jones from \"../jones.jpg\";\r\n\r\nimport {\r\n  GridContextProvider,\r\n  GridDropZone,\r\n  GridItem,\r\n  swap,\r\n  move,\r\n} from \"react-grid-dnd\";\r\n\r\nimport \"../dndstyles.css\";\r\nimport * as tf from \"@tensorflow/tfjs\";\r\nimport * as tfvis from \"@tensorflow/tfjs-vis\";\r\nimport { downloadFile } from \"../downloadFile\";\r\nimport UploadButton from \"./UploadButton\";\r\nimport DownloadButton from \"./DownloadButton\";\r\n\r\nimport CompatibilityCheck from \"./components/compatibilityCheckDialog\";\r\n\r\nfunction TestUIMVP() {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [dataProvider, setDataProvider] = React.useState(null);\r\n\r\n  // var classifierManager = null;\r\n  // const [classifierManager, setClassifierManager] = React.useState(null)\r\n  const [fileListObject, setFileListObject] = React.useState(null);\r\n  const [tileState, setTileState] = React.useState({\r\n    unclassified: [],\r\n    positive: [],\r\n    negative: [],\r\n  });\r\n\r\n  const [fetchButtonEnabled, setFetchButtonEnabled] = React.useState(false);\r\n  const [trainButtonEnabled, setTrainButtonEnabled] = React.useState(false);\r\n  const [evaluateButtonEnabled, setEvaluateButtonEnabled] = React.useState(\r\n    false\r\n  );\r\n  const [downloadButtonEnabled, setDownloadButtonEnabled] = React.useState(\r\n    false\r\n  );\r\n  const [uploadButtonEnabled, setUploadButtonEnabled] = React.useState(true);\r\n  const [scoreAllButtonEnabled, setscoreAllButtonEnabled] = React.useState(\r\n    false\r\n  );\r\n  const [uploading, setUploading] = React.useState(false);\r\n  const [success, setSuccess] = React.useState(false);\r\n  const [fetching, setFetching] = React.useState(false);\r\n  const [\r\n    initialFetchingPositiveNegative,\r\n    setInitialFetchingPositiveNegative,\r\n  ] = React.useState(false);\r\n  const [openFetchDropdown, setOpenFetchDropdown] = React.useState(false);\r\n  const [openTrainDropdown, setOpenTrainDropdown] = React.useState(false);\r\n\r\n  const [canvasWebWorker, setCanvasWebWorker] = React.useState(null);\r\n  const [dataWebWorker, setDataWebWorker] = React.useState(null);\r\n  const [classifierWebWorker, setClassifierWebWorker] = React.useState(null);\r\n  const [confusionMatrix, setConfusionMatrix] = React.useState([\r\n    [0, 0],\r\n    [0, 0],\r\n  ]);\r\n  const [trainingObject, setTrainingObject] = React.useState(null);\r\n  const [trainingCellPairs, setTrainingCellPairs] = React.useState([]);\r\n\r\n  const [scoreTableIsUpToDate, setScoreTableIsUpToDate] = React.useState(false);\r\n  const [scoreTableObject, setScoreTableObject] = React.useState(null);\r\n  const [scoreTable, setScoreTable] = React.useState([]);\r\n  const [scoreAlphas, setScoreAlphas] = React.useState();\r\n  const [histogramData, setHistogramData] = React.useState([]);\r\n  const [alpha, setAlpha] = React.useState(null);\r\n  const [beta, setBeta] = React.useState(null);\r\n\r\n  const trainingLossCanvasParentRef = React.useRef();\r\n  const trainingAccuracyCanvasParentRef = React.useRef();\r\n\r\n  const [\r\n    selectedFetchImageNumber,\r\n    setSelectedFetchImageNumber,\r\n  ] = React.useState(1);\r\n  const [\r\n    fetchImageNumberButtonEnabled,\r\n    setFetchImageNumberButtonEnabled,\r\n  ] = React.useState(false);\r\n  const DEBUG = true;\r\n\r\n  const [\r\n    cellBigPictureDialogOpen,\r\n    setCellBigPictureDialogOpen,\r\n  ] = React.useState(false);\r\n  const [bigPictureSource, setBigPictureSource] = React.useState(jones);\r\n  const [bigPictureTitle, setBigPictureTitle] = React.useState(\"\");\r\n  const [currentlyScoring, setCurrentlyScoring] = React.useState(false);\r\n  const [scoreTableCsvString, setScoreTableCsvString] = React.useState(\"\");\r\n  var __ = null;\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener(\"beforeunload\", function (e) {\r\n      e.preventDefault();\r\n      e.returnValue = \"Sure?\";\r\n      return \"Sure?\";\r\n    });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    const dataToCanvasWorkerChannel = new MessageChannel();\r\n    const dataToClassifierWorkerChannel = new MessageChannel();\r\n    const canvasToClassifierWorkerChannel = new MessageChannel();\r\n    const dataWebWorker = constructWebWorker(\"dataWorker.js\", \"dataWebWorker\");\r\n\r\n    dataWebWorker.postMessage({ action: \"connectToClassifierWorker\" }, [\r\n      dataToClassifierWorkerChannel.port1,\r\n    ]);\r\n    dataWebWorker.postMessage({ action: \"connectToCanvasWorker\" }, [\r\n      dataToCanvasWorkerChannel.port1,\r\n    ]);\r\n    setDataWebWorker(dataWebWorker);\r\n\r\n    const classifierWebWorker = constructWebWorker(\r\n      \"classifierWorker.js\",\r\n      \"classifierWebWorker\"\r\n    );\r\n    classifierWebWorker.postMessage({ action: \"connectToDataWorker\" }, [\r\n      dataToClassifierWorkerChannel.port2,\r\n    ]);\r\n    classifierWebWorker.postMessage({ action: \"connectToCanvasWorker\" }, [\r\n      canvasToClassifierWorkerChannel.port1,\r\n    ]);\r\n    setClassifierWebWorker(classifierWebWorker);\r\n\r\n    const canvasWebWorker = constructWebWorker(\r\n      \"canvasWorker.js\",\r\n      \"CanvasWebWorker\"\r\n    );\r\n    canvasWebWorker.postMessage({ action: \"connectToDataWorker\" }, [\r\n      dataToCanvasWorkerChannel.port2,\r\n    ]);\r\n    canvasWebWorker.postMessage({ action: \"connectToClassifierWorker\" }, [\r\n      canvasToClassifierWorkerChannel.port2,\r\n    ]);\r\n    setCanvasWebWorker(canvasWebWorker);\r\n  }, []);\r\n\r\n  const constructWebWorker = function (sourcePath, name) {\r\n    const worker = new Worker(sourcePath);\r\n    worker.addEventListener(\"error\", (event) => {\r\n      console.log(`[${name}] Error`, event.message, event);\r\n    });\r\n    return worker;\r\n  };\r\n\r\n  const N = 20;\r\n  const MAX_ITERATION_COUNT = 1000;\r\n\r\n  const handleClickFetchDropDown = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseFetchDropDown = (fetchType) => {\r\n    setAnchorEl(null);\r\n    if (fetchType !== undefined && fetchType !== null) {\r\n      handleFetch(fetchType);\r\n    }\r\n  };\r\n\r\n  const disableIterationButtons = () => {\r\n    setFetchButtonEnabled(false);\r\n    setTrainButtonEnabled(false);\r\n    setDownloadButtonEnabled(false);\r\n    //   setEvaluateButtonEnabled(false)\r\n  };\r\n  const enableIterationButtons = () => {\r\n    setFetchButtonEnabled(true);\r\n    setTrainButtonEnabled(true);\r\n    setDownloadButtonEnabled(true);\r\n    setEvaluateButtonEnabled(true);\r\n  };\r\n\r\n  const handleOpenCellBigPicture = async function (cellPair) {\r\n    // console.log('open big picture');\r\n    // console.log(cellPair);\r\n    setCellBigPictureDialogOpen(true);\r\n    setBigPictureTitle(\r\n      `Image: ${cellPair.ImageNumber}, Object: ${cellPair.ObjectNumber}`\r\n    );\r\n    return workerActionPromise(canvasWebWorker, \"get\", {\r\n      getType: \"blobUrlBigPictureFromCellPair\",\r\n      getArgs: { cellPair },\r\n    }).then((event) => {\r\n      const blobUrl = event.data.getResult;\r\n      setBigPictureSource(blobUrl);\r\n    });\r\n  };\r\n  const handleOpenBigPicture = async function (imageNumber) {\r\n    if (!imageNumber) {\r\n      return;\r\n    }\r\n    // console.log('open big picture');\r\n    // console.log(imageNumber);\r\n    setCellBigPictureDialogOpen(true);\r\n    setBigPictureTitle(`Image: ${imageNumber}`);\r\n    return workerActionPromise(canvasWebWorker, \"get\", {\r\n      getType: \"blobUrlBigPictureByImageNumber\",\r\n      getArgs: { imageNumber },\r\n    }).then((event) => {\r\n      const blobUrl = event.data.getResult;\r\n      setBigPictureSource(blobUrl);\r\n    });\r\n  };\r\n  const handleCloseCellBigPicture = function () {\r\n    // console.log('close big picture');\r\n    setCellBigPictureDialogOpen(false);\r\n  };\r\n\r\n  const handleFetch = async (fetchType) => {\r\n    // console.log('Fetch!');\r\n    if ((fetchType === undefined) | (fetchType == null)) {\r\n      return;\r\n    }\r\n    setFetching(true);\r\n    const clearedUnclassifiedTileState = { ...tileState, unclassified: [] };\r\n    setTileState(clearedUnclassifiedTileState);\r\n    switch (fetchType) {\r\n      case \"Random\": {\r\n        let event = await workerActionPromise(dataWebWorker, \"get\", {\r\n          getType: \"cellPairs\",\r\n          getArgs: { amount: 16 },\r\n        });\r\n\r\n        const { getResult: cellPairs } = event.data;\r\n\r\n        event = await workerActionPromise(canvasWebWorker, \"get\", {\r\n          getType: \"blobUrlsFromCellPairs\",\r\n          getArgs: { cellPairs },\r\n        });\r\n        const blobUrls = event.data.getResult;\r\n        const newTileState = await replaceUnclassifiedTileStatePromise(\r\n          tileState,\r\n          blobUrls,\r\n          cellPairs\r\n        );\r\n        // console.log(newTileState);\r\n        setTileState(newTileState);\r\n        setFetching(false);\r\n        break;\r\n      }\r\n      case \"Positive\":\r\n      case \"Negative\": {\r\n        let accumCellPairs = [];\r\n        let iterationCount = 0;\r\n        let totalIterationCount = 0;\r\n\r\n        while (accumCellPairs.length < 16) {\r\n          let event = await workerActionPromise(dataWebWorker, \"get\", {\r\n            getType: \"cellPairs\",\r\n            getArgs: { amount: 100 },\r\n          });\r\n          const { getResult: cellPairs } = event.data;\r\n          event = await workerActionPromise(\r\n            classifierWebWorker,\r\n            \"predictFilterCellPairs\",\r\n            {\r\n              cellPairs,\r\n              classType: fetchType,\r\n            }\r\n          );\r\n          const { filteredCellPairs } = event.data;\r\n\r\n          // get rid of duplicates\r\n          for (let i = 0; i < filteredCellPairs.length; i++) {\r\n            const sampledCellPair = filteredCellPairs[i];\r\n            let notYetSampled = true;\r\n            for (let j = 0; j < accumCellPairs.length; j++) {\r\n              if (\r\n                sampledCellPair.ImageNumber === accumCellPairs[j].ImageNumber &&\r\n                sampledCellPair.ObjectNumber === accumCellPairs[j].ObjectNumber\r\n              ) {\r\n                notYetSampled = false;\r\n                break;\r\n              }\r\n            }\r\n\r\n            if (notYetSampled) {\r\n              accumCellPairs.push(sampledCellPair);\r\n            }\r\n          }\r\n          // console.log(accumCellPairs);\r\n          // accumCellPairs = accumCellPairs.concat(filteredCellPairs);\r\n\r\n          totalIterationCount++;\r\n          if (iterationCount++ >= MAX_ITERATION_COUNT) {\r\n            if (\r\n              window.confirm(\r\n                `CPAW Has Found ${\r\n                  accumCellPairs.length\r\n                } Unique ${fetchType} Cells After Testing ${\r\n                  100 * totalIterationCount\r\n                } Cells With Replacement, Would You Like To Continue?`\r\n              )\r\n            ) {\r\n              iterationCount = 0;\r\n              continue;\r\n            } else {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        // console.log(`Fetched ${fetchType} Cells in ${totalIterationCount} iterations`);\r\n\r\n        const slicedCellPairs = accumCellPairs.slice(0, 16);\r\n        let event = await workerActionPromise(canvasWebWorker, \"get\", {\r\n          getType: \"blobUrlsFromCellPairs\",\r\n          getArgs: { cellPairs: slicedCellPairs },\r\n        });\r\n        const blobUrls = event.data.getResult;\r\n        const newTileState = await replaceUnclassifiedTileStatePromise(\r\n          tileState,\r\n          blobUrls,\r\n          slicedCellPairs\r\n        );\r\n        setTileState(newTileState);\r\n        setFetching(false);\r\n        break;\r\n      }\r\n      case \"Confusing\": {\r\n        let event = await workerActionPromise(dataWebWorker, \"get\", {\r\n          getType: \"cellPairs\",\r\n          getArgs: { amount: 1000 },\r\n        });\r\n        const { getResult: cellPairs } = event.data;\r\n\r\n        event = await workerActionPromise(\r\n          classifierWebWorker,\r\n          \"confusingSortCellPairs\",\r\n          {\r\n            cellPairs: cellPairs,\r\n          }\r\n        );\r\n        const { sortedCellPairs } = event.data;\r\n        const slicedSortedCellPairs = sortedCellPairs.slice(0, 16);\r\n        event = await workerActionPromise(canvasWebWorker, \"get\", {\r\n          getType: \"blobUrlsFromCellPairs\",\r\n          getArgs: { cellPairs: slicedSortedCellPairs },\r\n        });\r\n        const blobUrls = event.data.getResult;\r\n        const newTileState = await replaceUnclassifiedTileStatePromise(\r\n          tileState,\r\n          blobUrls,\r\n          slicedSortedCellPairs\r\n        );\r\n\r\n        setTileState(newTileState);\r\n        setFetching(false);\r\n        break;\r\n      }\r\n      case \"MorePositive\":\r\n      case \"MoreNegative\": {\r\n        // console.log(fetchType);\r\n\r\n        const classType =\r\n          fetchType === \"MorePositive\" ? \"Positive\" : \"Negative\";\r\n\r\n        let accumCellPairs = [];\r\n        let iterationCount = 0;\r\n        let totalIterationCount = 0;\r\n\r\n        while (accumCellPairs.length < 16) {\r\n          let event = await workerActionPromise(dataWebWorker, \"get\", {\r\n            getType: \"cellPairs\",\r\n            getArgs: { amount: 1000 },\r\n          });\r\n          const { getResult: cellPairs } = event.data;\r\n          event = await workerActionPromise(\r\n            classifierWebWorker,\r\n            \"moreClassSortCellPairs\",\r\n            {\r\n              cellPairs,\r\n              classType,\r\n            }\r\n          );\r\n          const { sortedCellPairs } = event.data;\r\n\r\n          // get rid of duplicates\r\n          for (let i = 0; i < sortedCellPairs.length; i++) {\r\n            const sampledCellPair = sortedCellPairs[i];\r\n            let notYetSampled = true;\r\n            for (let j = 0; j < accumCellPairs.length; j++) {\r\n              if (\r\n                sampledCellPair.ImageNumber === accumCellPairs[j].ImageNumber &&\r\n                sampledCellPair.ObjectNumber === accumCellPairs[j].ObjectNumber\r\n              ) {\r\n                notYetSampled = false;\r\n                break;\r\n              }\r\n            }\r\n\r\n            if (notYetSampled) {\r\n              accumCellPairs.push(sampledCellPair);\r\n            }\r\n          }\r\n\r\n          totalIterationCount++;\r\n          if (iterationCount++ >= MAX_ITERATION_COUNT) {\r\n            if (\r\n              window.confirm(\r\n                `CPAW Has Found ${\r\n                  accumCellPairs.length\r\n                } Unique ${fetchType} Cells After Testing ${\r\n                  100 * totalIterationCount\r\n                } Cells With Replacement, Would You Like To Continue?`\r\n              )\r\n            ) {\r\n              iterationCount = 0;\r\n              continue;\r\n            } else {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        const slicedSortedCellPairs = accumCellPairs.slice(0, 16);\r\n        let event = await workerActionPromise(canvasWebWorker, \"get\", {\r\n          getType: \"blobUrlsFromCellPairs\",\r\n          getArgs: { cellPairs: slicedSortedCellPairs },\r\n        });\r\n        const blobUrls = event.data.getResult;\r\n        const newTileState = await replaceUnclassifiedTileStatePromise(\r\n          tileState,\r\n          blobUrls,\r\n          slicedSortedCellPairs\r\n        );\r\n\r\n        setTileState(newTileState);\r\n        setFetching(false);\r\n        break;\r\n      }\r\n      case \"ImageNumber\": {\r\n        let event = await workerActionPromise(dataWebWorker, \"get\", {\r\n          getType: \"cellPairsFromImage\",\r\n          getArgs: { ImageNumber: selectedFetchImageNumber },\r\n        });\r\n        const { getResult: cellPairs } = event.data;\r\n        // console.log(cellPairs);\r\n        if (cellPairs.length === 0) {\r\n          alert(\r\n            `No Cells Found With Image Number: ${selectedFetchImageNumber}`\r\n          );\r\n          setFetching(false);\r\n          return;\r\n        }\r\n\r\n        let shuffledSliceCellPairs = cellPairs;\r\n\r\n        if (cellPairs.length > 16) {\r\n          const cellPairIndicesLeft = new Array(cellPairs.length)\r\n            .fill(0)\r\n            .map((e, i) => i);\r\n          shuffledSliceCellPairs = [];\r\n          while (shuffledSliceCellPairs.length < 16) {\r\n            const randomIndexIndex = Math.floor(\r\n              Math.random() * cellPairIndicesLeft.length\r\n            );\r\n            const randomIndex = cellPairIndicesLeft[randomIndexIndex];\r\n            shuffledSliceCellPairs.push(cellPairs[randomIndex]);\r\n            cellPairIndicesLeft.splice(randomIndexIndex, 1);\r\n          }\r\n        }\r\n\r\n        const slicedCellPairs = shuffledSliceCellPairs.slice(0, 16);\r\n        event = await workerActionPromise(canvasWebWorker, \"get\", {\r\n          getType: \"blobUrlsFromCellPairs\",\r\n          getArgs: { cellPairs: slicedCellPairs },\r\n        });\r\n        const blobUrls = event.data.getResult;\r\n        const newTileState = await replaceUnclassifiedTileStatePromise(\r\n          tileState,\r\n          blobUrls,\r\n          slicedCellPairs\r\n        );\r\n        setTileState(newTileState);\r\n        setFetching(false);\r\n        break;\r\n      }\r\n      case \"TrainingPositive\":\r\n      case \"TrainingNegative\": {\r\n        const cellPairs = trainingObject.trainingData.map((dataRow) => ({\r\n          ImageNumber: dataRow[0],\r\n          ObjectNumber: dataRow[1],\r\n        }));\r\n\r\n        const positiveCellPairs = cellPairs.filter(\r\n          (e, idx) => trainingObject.trainingLabels[idx] === 1\r\n        );\r\n        const negativeCellPairs = cellPairs.filter(\r\n          (e, idx) => trainingObject.trainingLabels[idx] === 0\r\n        );\r\n\r\n        const desiredCellPairs =\r\n          fetchType === \"TrainingPositive\"\r\n            ? positiveCellPairs\r\n            : negativeCellPairs;\r\n\r\n        let event = await workerActionPromise(canvasWebWorker, \"get\", {\r\n          getType: \"blobUrlsFromCellPairs\",\r\n          getArgs: { cellPairs: desiredCellPairs },\r\n        });\r\n        const blobUrls = event.data.getResult;\r\n        const newTileState = await replaceUnclassifiedTileStatePromise(\r\n          tileState,\r\n          blobUrls,\r\n          desiredCellPairs\r\n        );\r\n        setTileState(newTileState);\r\n        setFetching(false);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleTrain = async () => {\r\n    console.log(\"Train!\");\r\n    const positiveCellPairs = tileState.positive.map(\r\n      (element) => element.cellPair\r\n    );\r\n    const negativeCellPairs = tileState.negative.map(\r\n      (element) => element.cellPair\r\n    );\r\n    // console.log('p', positiveCellPairs, 'n', negativeCellPairs);\r\n\r\n    const totalCellPairs = [...negativeCellPairs, ...positiveCellPairs];\r\n    const newLabels = [\r\n      ...new Array(negativeCellPairs.length).fill(0),\r\n      ...new Array(positiveCellPairs.length).fill(1),\r\n    ];\r\n\r\n    setScoreTableIsUpToDate(false);\r\n\r\n    const clearedUnclassifiedTileState = { ...tileState, unclassified: [] };\r\n    setTileState(clearedUnclassifiedTileState);\r\n\r\n    let event = await workerActionPromise(dataWebWorker, \"get\", {\r\n      getType: \"objectRowsFromCellpairs\",\r\n      getArgs: { cellPairs: totalCellPairs },\r\n    });\r\n\r\n    const { getResult: dataRows } = event.data;\r\n    // console.log(dataRows);\r\n    const newTrainingObject = {\r\n      classifierType: \"LogisticRegression\",\r\n      trainingData: dataRows,\r\n      trainingLabels: newLabels,\r\n      featureIndicesToUse: trainingObject.featureIndicesToUse,\r\n    };\r\n    trainSequencePromise(newTrainingObject);\r\n  };\r\n\r\n  const trainSequencePromise = async function (currentTrainingObject) {\r\n    setOpenTrainDropdown(true);\r\n    var UUID = null;\r\n    let updateCanvasesListener = (event) => {\r\n      if (UUID == event.data.uuid) {\r\n        switch (event.data.action) {\r\n          case \"updateTrainingCanvases\":\r\n            tfvis.show.history(\r\n              trainingLossCanvasParentRef.current,\r\n              event.data.trainLogs,\r\n              [...event.data.ticks.loss, ...event.data.ticks.accuracy]\r\n            );\r\n            // tfvis.show.history(\r\n            // \ttrainingAccuracyCanvasParentRef.current,\r\n            // \tevent.data.trainLogs,\r\n\r\n            // );\r\n            break;\r\n          default:\r\n            console.log(\"didn't render bad action\");\r\n        }\r\n      }\r\n    };\r\n\r\n    return workerActionPromise(\r\n      classifierWebWorker,\r\n      \"startTrainingGraphsConnection\",\r\n      {}\r\n    )\r\n      .then((event) => {\r\n        UUID = event.data.uuid;\r\n        classifierWebWorker.addEventListener(\"message\", updateCanvasesListener);\r\n        return workerActionPromise(classifierWebWorker, \"train\", {\r\n          trainingObject: currentTrainingObject,\r\n        });\r\n      })\r\n      .then(() => {\r\n        workerActionPromise(\r\n          classifierWebWorker,\r\n          \"endTrainingGraphsConnection\",\r\n          {}\r\n        );\r\n        classifierWebWorker.removeEventListener(\r\n          \"message\",\r\n          updateCanvasesListener\r\n        );\r\n        return workerActionPromise(classifierWebWorker, \"confusionMatrix\");\r\n      })\r\n      .then((event) => {\r\n        const newConfusionMatrix = event.data.confusionMatrix;\r\n        setConfusionMatrix(newConfusionMatrix);\r\n      })\r\n      .then(() => {\r\n        setTrainingObject(currentTrainingObject);\r\n        setOpenTrainDropdown(false);\r\n      });\r\n  };\r\n\r\n  const workerActionPromise = function (worker, action, data) {\r\n    const UUID = uuidv4();\r\n\r\n    return new Promise((resolve) => {\r\n      let selfDestructingEventHandler = (event) => {\r\n        if (event.data.uuid === UUID) {\r\n          worker.removeEventListener(\"message\", selfDestructingEventHandler);\r\n          resolve(event);\r\n        }\r\n      };\r\n      worker.addEventListener(\"message\", selfDestructingEventHandler);\r\n\r\n      worker.postMessage({ action, ...data, uuid: UUID });\r\n    });\r\n  };\r\n\r\n  const handleUpload = async (eventObject) => {\r\n    console.log(\"Upload!\");\r\n    setUploading(true);\r\n    await workerActionPromise(dataWebWorker, \"init\", {\r\n      fileListObject: eventObject.target.files,\r\n    });\r\n    let event = await workerActionPromise(dataWebWorker, \"get\", {\r\n      getType: \"trainingObject\",\r\n    });\r\n    const initialTrainingObject = event.data.getResult;\r\n\r\n    setUploading(false);\r\n    setSuccess(true);\r\n    setUploadButtonEnabled(false);\r\n\r\n    await trainSequencePromise(initialTrainingObject);\r\n    setInitialFetchingPositiveNegative(true);\r\n    const cellPairs = initialTrainingObject.trainingData.map((dataRow) => ({\r\n      ImageNumber: dataRow[0],\r\n      ObjectNumber: dataRow[1],\r\n    }));\r\n\r\n    const positiveCellPairs = cellPairs.filter(\r\n      (e, idx) => initialTrainingObject.trainingLabels[idx] === 1\r\n    );\r\n    const negativeCellPairs = cellPairs.filter(\r\n      (e, idx) => initialTrainingObject.trainingLabels[idx] === 0\r\n    );\r\n\r\n    const totalCellPairs = [...negativeCellPairs, ...positiveCellPairs];\r\n\r\n    event = await workerActionPromise(canvasWebWorker, \"get\", {\r\n      getType: \"blobUrlsFromCellPairs\",\r\n      getArgs: { cellPairs: totalCellPairs },\r\n    });\r\n    const blobUrls = event.data.getResult;\r\n\r\n    const zeros = new Array(negativeCellPairs.length).fill(0);\r\n    const ones = new Array(positiveCellPairs.length).fill(1);\r\n    const classes = [...zeros, ...ones];\r\n\r\n    const newTileState = await constructTileStatePromiseByClass(\r\n      blobUrls,\r\n      totalCellPairs,\r\n      classes\r\n    );\r\n    setTileState(newTileState);\r\n    setFetching(false);\r\n    setInitialFetchingPositiveNegative(false);\r\n    enableIterationButtons();\r\n  };\r\n\r\n  /*\r\n\t\t@param (Array<Array<any>>) data The 2D array of data to convert and download as csv\r\n\t\t@param? (Array<string>) headers The possible headers at the top of the fiile\r\n\t\t@return (string)\r\n\t*/\r\n  const dataToCsvString = (data, headers = null) => {\r\n    let csvContent = \"\";\r\n    if (headers !== null) {\r\n      csvContent += headers.join(\",\") + \"\\n\";\r\n    }\r\n    csvContent += data.map((l) => l.join(\",\")).join(\"\\n\");\r\n    // downloadFile('enrichmentScores', csvContent, '.csv');\r\n    return csvContent;\r\n  };\r\n\r\n  const rows = [\r\n    [\"name1\", \"city1\", \"some other info\"],\r\n    [\"name2\", \"city2\", \"more info\"],\r\n  ];\r\n  const headers = [\"a\", \"b\", \"c\"];\r\n\r\n  const handleScoreAll = async () => {\r\n    console.log(\"Score All!\");\r\n    if (!scoreTableIsUpToDate && !currentlyScoring) {\r\n      setCurrentlyScoring(true);\r\n      // console.log('Score All!');\r\n      return workerActionPromise(classifierWebWorker, \"scoreObjectData\").then(\r\n        (event) => {\r\n          const newScoreTableObject = event.data.scoreTableObject;\r\n          // console.log(newScoreTableObject);\r\n          const scoreDataRows = Object.keys(\r\n            newScoreTableObject.imageToCountsMap\r\n          ).map((key) => ({\r\n            imageNumber: parseInt(key),\r\n            total:\r\n              newScoreTableObject.imageToCountsMap[key][0] +\r\n              newScoreTableObject.imageToCountsMap[key][1],\r\n            positive: newScoreTableObject.imageToCountsMap[key][1],\r\n            negative: newScoreTableObject.imageToCountsMap[key][0],\r\n            ratio: newScoreTableObject.ratios[key],\r\n            adjustratio: newScoreTableObject.adjustedRatios[key],\r\n          }));\r\n\r\n          const alphaValue = newScoreTableObject.alphas[1];\r\n          const betaValue = newScoreTableObject.alphas[0];\r\n\r\n          // console.log(alphaValue);\r\n\r\n          const adjustedRatiosData = Object.values(\r\n            newScoreTableObject.adjustedRatios\r\n          ).map((ratio) => ({\r\n            x: ratio,\r\n          }));\r\n          setHistogramData(adjustedRatiosData);\r\n          setScoreTable(scoreDataRows);\r\n          setCurrentlyScoring(false);\r\n          setAlpha(alphaValue);\r\n          setBeta(betaValue);\r\n          // setScoreTableObject(newScoreTableObject);\r\n          setScoreAlphas(newScoreTableObject.alphas);\r\n          // console.log(newScoreTableObject);\r\n          const headers = [\r\n            \"ImageNumber\",\r\n            \"PositiveCount\",\r\n            \"NegativeCount\",\r\n            \"TotalCount\",\r\n            \"Ratio\",\r\n            \"AdjustedRatio\",\r\n          ];\r\n          const csvdata = scoreDataRows.map((dataRow) => [\r\n            dataRow.imageNumber,\r\n            dataRow.positive,\r\n            dataRow.negative,\r\n            dataRow.total,\r\n            dataRow.ratio,\r\n            dataRow.adjustratio,\r\n          ]);\r\n          // const onDownload = () => {\r\n          // \tdownloadDataAsCSV(csvdata, headers);\r\n          // };\r\n          const csvContent = dataToCsvString(csvdata, headers);\r\n          setScoreTableCsvString(csvContent);\r\n          // setDownloadScoreTableFunction(onDownload);\r\n          setScoreTableIsUpToDate(true);\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  /**\r\n   * @param {{positive: {data: {ImageNumber: cellPair.ImageNumber,ObjectNumber: number,Plate: numbere,Well: number,Gene: string,Puro: number,X: number,Y: number}}[],\r\n   * \t\t\tnegative: {data: {ImageNumber: cellPair.ImageNumber,ObjectNumber: number,Plate: numbere,Well: number,Gene: string,Puro: number,X: number,Y: number}}[],\r\n   * \t\t\tunclassified: {data: {ImageNumber: cellPair.ImageNumber,ObjectNumber: number,Plate: numbere,Well: number,Gene: string,Puro: number,X: number,Y: number}}[]\r\n   * \t\t\t}}\r\n   * \t\t\ttileState The tile state of arrays of cell objects for each class, a data field for each cell object gives us\r\n   * \t\t\tthe information needed to make the trainingset text content\r\n   * @return {string} tileStateString\r\n   */\r\n  function createTrainingSetTextFromTileState(tileState) {\r\n    let result = \"\";\r\n    result = result.concat(\r\n      `# This training set was created at ${new Date().toLocaleString()} in CellProfiler Analyst Web\\n`\r\n    );\r\n    result = result.concat(\"label positive negative\\n\");\r\n\r\n    for (let i = 0; i < tileState.positive.length; i++) {\r\n      const cellData = tileState.positive[i].data;\r\n      result = result.concat(\r\n        `positive ${cellData.ImageNumber} ${cellData.ObjectNumber} ${cellData.X} ${cellData.Y}\\n`\r\n      );\r\n    }\r\n\r\n    for (let i = 0; i < tileState.negative.length; i++) {\r\n      const cellData = tileState.negative[i].data;\r\n      result = result.concat(\r\n        `negative ${cellData.ImageNumber} ${cellData.ObjectNumber} ${cellData.X} ${cellData.Y}\\n`\r\n      );\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  const handleDownload = async (downloadType) => {\r\n    console.log(\"Download!\");\r\n    if (downloadType === \"TrainingSet\") {\r\n      const trainingSetText = createTrainingSetTextFromTileState(tileState);\r\n      downloadFile(\"generatedTrainingSet\", trainingSetText, \".txt\");\r\n      return;\r\n    } else if (downloadType === \"ClassifierSpec\") {\r\n      return workerActionPromise(classifierWebWorker, \"getClassifier\").then(\r\n        (event) => {\r\n          tf.loadLayersModel(\r\n            `indexeddb://${trainingObject.classifierType}`\r\n          ).then((model) => {\r\n            model.save(`downloads://${trainingObject.classifierType}`);\r\n          });\r\n        }\r\n      );\r\n    } else if (downloadType === \"TrainingSetClassifierSpec\") {\r\n      const trainingSetText = createTrainingSetTextFromTileState(tileState);\r\n      downloadFile(\"generatedTrainingSet\", trainingSetText, \".txt\");\r\n      return workerActionPromise(classifierWebWorker, \"getClassifier\").then(\r\n        (event) => {\r\n          tf.loadLayersModel(\r\n            `indexeddb://${trainingObject.classifierType}`\r\n          ).then((model) => {\r\n            model.save(`downloads://${trainingObject.classifierType}`);\r\n          });\r\n        }\r\n      );\r\n    } else {\r\n      console.error(\"no valid downloadtype\");\r\n    }\r\n\r\n    // const classifier = event.data.classifier;\r\n  };\r\n\r\n  async function constructTileStatePromise(dataURLs, newCellPairs) {\r\n    const cellDatas = await Promise.all(\r\n      newCellPairs.map((cellPair) =>\r\n        workerActionPromise(dataWebWorker, \"get\", {\r\n          getType: \"cellPairData\",\r\n          getArgs: { cellPair: cellPair },\r\n        }).then((event) => event.data.getResult)\r\n      )\r\n    );\r\n\r\n    return {\r\n      unclassified: dataURLs.map((dataURL, idx) => {\r\n        const cellData = cellDatas[idx];\r\n\r\n        const label = `Ob: ${cellData.ObjectNumber}${\"\\u00A0\"}Im: ${\r\n          cellData.ImageNumber\r\n        }${\"\\u000A\"}something`;\r\n\r\n        // We: ${cellData.Well}\r\n        // Pl: ${cellData.Plate}`;\r\n        // console.log(label);\r\n        return {\r\n          id: idx,\r\n          address: dataURL,\r\n          data: cellData,\r\n          info: label,\r\n          cellPair: {\r\n            ImageNumber: cellData.ImageNumber,\r\n            ObjectNumber: cellData.ObjectNumber,\r\n          },\r\n        };\r\n      }),\r\n      positive: [],\r\n      negative: [],\r\n    };\r\n  }\r\n\r\n  async function replaceUnclassifiedTileStatePromise(\r\n    lastTileState,\r\n    newDataURLs,\r\n    newCellPairs\r\n  ) {\r\n    const cellDatas = await Promise.all(\r\n      newCellPairs.map((cellPair) =>\r\n        workerActionPromise(dataWebWorker, \"get\", {\r\n          getType: \"cellPairData\",\r\n          getArgs: { cellPair: cellPair },\r\n        }).then((event) => event.data.getResult)\r\n      )\r\n    );\r\n    for (let i = 0; i < lastTileState.negative.length; i++) {\r\n      lastTileState.negative[i].id = i;\r\n    }\r\n    for (let i = 0; i < lastTileState.positive.length; i++) {\r\n      lastTileState.positive[i].id = lastTileState.negative.length + i;\r\n    }\r\n\r\n    const unclassifiedTileState = newDataURLs.map((dataURL, idx) => {\r\n      const cellData = cellDatas[idx];\r\n\r\n      const label = `Ob: ${cellData.ObjectNumber} Im: ${cellData.ImageNumber}`;\r\n      // We: ${cellData.Well}\r\n      // Pl: ${cellData.Plate}`;\r\n      // console.log(label);\r\n      return {\r\n        id: lastTileState.positive.length + lastTileState.negative.length + idx,\r\n        address: dataURL,\r\n        info: label,\r\n        data: cellData,\r\n        cellPair: {\r\n          ImageNumber: cellData.ImageNumber,\r\n          ObjectNumber: cellData.ObjectNumber,\r\n        },\r\n      };\r\n    });\r\n\r\n    // console.log(unclassifiedTileState, lastTileState);\r\n    const newTileState = {\r\n      negative: lastTileState.negative,\r\n      positive: lastTileState.positive,\r\n      unclassified: unclassifiedTileState,\r\n    };\r\n    // console.log(newTileState);\r\n    return newTileState;\r\n  }\r\n\r\n  async function constructTileStatePromiseByClass(\r\n    dataURLs,\r\n    newCellPairs,\r\n    classes\r\n  ) {\r\n    const cellDatas = await Promise.all(\r\n      newCellPairs.map((cellPair) =>\r\n        workerActionPromise(dataWebWorker, \"get\", {\r\n          getType: \"cellPairData\",\r\n          getArgs: { cellPair: cellPair },\r\n        }).then((event) => event.data.getResult)\r\n      )\r\n    );\r\n\r\n    const cellStates = dataURLs.map((dataURL, idx) => {\r\n      const cellData = cellDatas[idx];\r\n\r\n      const label = `Ob: ${cellData.ObjectNumber} Im: ${cellData.ImageNumber}`;\r\n      // We: ${cellData.Well}\r\n      // Pl: ${cellData.Plate}`;\r\n      return {\r\n        id: idx,\r\n        address: dataURL,\r\n        info: label,\r\n        data: cellData,\r\n        cellPair: {\r\n          ImageNumber: cellData.ImageNumber,\r\n          ObjectNumber: cellData.ObjectNumber,\r\n        },\r\n      };\r\n    });\r\n\r\n    const newTileState = {\r\n      negative: cellStates.filter((e, idx) => classes[idx] === 0),\r\n      positive: cellStates.filter((e, idx) => classes[idx] === 1),\r\n      unclassified: cellStates.filter((e, idx) => classes[idx] === -1),\r\n    };\r\n    return newTileState;\r\n  }\r\n\r\n  function onChange(sourceId, sourceIndex, targetIndex, targetId) {\r\n    if (targetId) {\r\n      const result = move(\r\n        tileState[sourceId],\r\n        tileState[targetId],\r\n        sourceIndex,\r\n        targetIndex\r\n      );\r\n      return setTileState({\r\n        ...tileState,\r\n        [sourceId]: result[0],\r\n        [targetId]: result[1],\r\n      });\r\n    }\r\n    const result = swap(tileState[sourceId], sourceIndex, targetIndex);\r\n    return setTileState({\r\n      ...tileState,\r\n      [sourceId]: result,\r\n    });\r\n  }\r\n\r\n  const handleClickOpenImNumFetchDropdown = () => {\r\n    setAnchorEl(null);\r\n    setOpenFetchDropdown(true);\r\n  };\r\n\r\n  const handleClickCloseImNumFetchDropdown = () => {\r\n    setOpenFetchDropdown(false);\r\n    handleCloseFetchDropDown(\"ImageNumber\");\r\n  };\r\n  console.log(\"Load the App\");\r\n  return (\r\n    <GridContextProvider onChange={onChange}>\r\n      <CompatibilityCheck></CompatibilityCheck>\r\n      <div style={{ overflowX: \"hidden\", height: \"100%\", width: \"100%\" }}>\r\n        <Row style={{ marginTop: \"2%\" }}>\r\n          <Image\r\n            src={logo}\r\n            style={{\r\n              marginLeft: \"11%\",\r\n              height: \"30%\",\r\n              width: \"25%\",\r\n              position: \"relative\",\r\n              maxHeight: \"125px\",\r\n              marginBottom: \"2%\",\r\n            }}\r\n          ></Image>\r\n          <Col style={{ left: \"35%\" }}>\r\n            <Help></Help>\r\n          </Col>\r\n\r\n          <Col style={{ left: \"20%\", right: 5 }}>\r\n            <UploadButton\r\n              handleUpload={handleUpload}\r\n              uploadButtonEnabled={uploadButtonEnabled}\r\n              uploading={uploading}\r\n              success={success}\r\n            ></UploadButton>\r\n          </Col>\r\n          <Col style={{ left: \"5%\" }}>\r\n            <DownloadButton\r\n              downloadButtonEnabled={downloadButtonEnabled}\r\n              handleDownload={handleDownload}\r\n            ></DownloadButton>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Paper\r\n            variant=\"outlined\"\r\n            //color=\"primary\"\r\n            //elevation={3}\r\n            style={{\r\n              marginLeft: \"30%\",\r\n              marginRight: \"30%\",\r\n              height: 75,\r\n              width: 550,\r\n              outlineColor: \"#6697CD\",\r\n              //boxShadow: \"0px 3px 1px -2px #6697CD,0px 2px 2px 0px #6697CD ,0px 1px 5px 0px #6697CD\"\r\n            }}\r\n          >\r\n            <Grid\r\n              container\r\n              justify=\"center\"\r\n              spacing={2}\r\n              style={{ marginBottom: 10, marginTop: 10 }}\r\n            >\r\n              <Grid key={0} item>\r\n                <Button\r\n                  disabled={!fetchButtonEnabled}\r\n                  variant=\"contained\"\r\n                  aria-controls=\"simple-menu\"\r\n                  aria-haspopup=\"true\"\r\n                  onClick={handleClickFetchDropDown}\r\n                >\r\n                  Fetch\r\n                </Button>\r\n                <Menu\r\n                  id=\"simple-menu\"\r\n                  anchorEl={anchorEl}\r\n                  keepMounted\r\n                  open={Boolean(anchorEl)}\r\n                  onClose={() => handleCloseFetchDropDown(null)}\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    handleCloseFetchDropDown(null);\r\n                  }}\r\n                >\r\n                  <MenuItem onClick={() => handleCloseFetchDropDown(\"Random\")}>\r\n                    Random\r\n                  </MenuItem>\r\n                  <MenuItem\r\n                    onClick={() => handleCloseFetchDropDown(\"Positive\")}\r\n                  >\r\n                    Positive\r\n                  </MenuItem>\r\n                  <MenuItem\r\n                    onClick={() => handleCloseFetchDropDown(\"Negative\")}\r\n                  >\r\n                    Negative\r\n                  </MenuItem>\r\n                  <MenuItem onClick={handleClickOpenImNumFetchDropdown}>\r\n                    By Image\r\n                  </MenuItem>\r\n                  <MenuItem\r\n                    onClick={() => handleCloseFetchDropDown(\"Confusing\")}\r\n                  >\r\n                    Confusing\r\n                  </MenuItem>\r\n                  <MenuItem\r\n                    onClick={() => handleCloseFetchDropDown(\"MorePositive\")}\r\n                  >\r\n                    Most Positive\r\n                  </MenuItem>\r\n                  <MenuItem\r\n                    onClick={() => handleCloseFetchDropDown(\"MoreNegative\")}\r\n                  >\r\n                    Most Negative\r\n                  </MenuItem>\r\n                  <MenuItem\r\n                    onClick={() => handleCloseFetchDropDown(\"TrainingPositive\")}\r\n                  >\r\n                    Training Set Positive\r\n                  </MenuItem>\r\n                  <MenuItem\r\n                    onClick={() => handleCloseFetchDropDown(\"TrainingNegative\")}\r\n                  >\r\n                    Training Set Negative\r\n                  </MenuItem>\r\n\r\n                  <Dialog\r\n                    open={openFetchDropdown}\r\n                    onClose={() => handleCloseFetchDropDown(null)}\r\n                  >\r\n                    <DialogTitle>\r\n                      {/* <Typography variant=\"h3\" align=\"center\"> */}\r\n                      Fetch By Image\r\n                      {/* </Typography> */}\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                      <DialogContentText>\r\n                        Select the image number you would like to fetch from.\r\n                      </DialogContentText>\r\n                      <form\r\n                        noValidate\r\n                        onSubmit={(e) => {\r\n                          e.preventDefault();\r\n                          handleClickCloseImNumFetchDropdown();\r\n                        }}\r\n                      >\r\n                        <FormControl>\r\n                          <TextField\r\n                            onChange={(event) => {\r\n                              if (\r\n                                event.target.value === null ||\r\n                                event.target.value === undefined ||\r\n                                event.target.value === \"\"\r\n                              ) {\r\n                                return;\r\n                              }\r\n                              setSelectedFetchImageNumber(\r\n                                parseInt(event.target.value)\r\n                              );\r\n                              setFetchImageNumberButtonEnabled(true);\r\n                            }}\r\n                            type=\"number\"\r\n                            inputProps={{ step: 1, min: 1 }}\r\n                            value={selectedFetchImageNumber}\r\n                            label=\"Image Number\"\r\n                          ></TextField>\r\n                        </FormControl>\r\n                      </form>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                      <Button\r\n                        disabled={!fetchImageNumberButtonEnabled}\r\n                        onClick={handleClickCloseImNumFetchDropdown}\r\n                        color=\"primary\"\r\n                      >\r\n                        Ok\r\n                      </Button>\r\n                    </DialogActions>\r\n                  </Dialog>\r\n                </Menu>\r\n              </Grid>\r\n\r\n              <Grid key={1} item>\r\n                {/* style = {{height: \"5vw\", width:\"10vw\", minHeight:2, maxHeight: 35, maxwidth: 50, fontSize: \"max(1.5vw, 20)\"}}  */}\r\n                <Button\r\n                  disabled={!trainButtonEnabled}\r\n                  variant=\"contained\"\r\n                  onClick={handleTrain}\r\n                >\r\n                  Train\r\n                </Button>\r\n                <Dialog fullWidth={500} open={openTrainDropdown}>\r\n                  <DialogTitle>Training the Classifier</DialogTitle>\r\n                  <DialogContent>\r\n                    <div\r\n                      width={300}\r\n                      ref={trainingAccuracyCanvasParentRef}\r\n                    ></div>\r\n                    <div width={300} ref={trainingLossCanvasParentRef}></div>\r\n                  </DialogContent>\r\n                </Dialog>\r\n              </Grid>\r\n\r\n              <Grid key={2} item>\r\n                {/* <Button disabled={!evaluateButtonEnabled} variant=\"contained\" onClick={()=>{}}>Evaluate</Button>  */}\r\n                {/* TODO: need to fix button disabled DONE*/}\r\n                {!evaluateButtonEnabled ? (\r\n                  <Button\r\n                    disabled={!evaluateButtonEnabled}\r\n                    variant=\"contained\"\r\n                    onClick={() => {}}\r\n                  >\r\n                    Evaluate\r\n                  </Button>\r\n                ) : (\r\n                  <Evaluate confusionMatrix={confusionMatrix}></Evaluate>\r\n                )}\r\n              </Grid>\r\n\r\n              <Grid key={3} item>\r\n                {/* <Button  disabled={!scoreAllButtonEnabled} variant=\"contained\" onClick={()=>{}}>Score All</Button> */}\r\n                {/* TODO: need to fix button disabled DONE*/}\r\n\r\n                {!evaluateButtonEnabled ? (\r\n                  <Button\r\n                    disabled={!evaluateButtonEnabled}\r\n                    variant=\"contained\"\r\n                    onClick={handleScoreAll}\r\n                  >\r\n                    Score All\r\n                  </Button>\r\n                ) : (\r\n                  <ScoreAll\r\n                    histogramData={histogramData}\r\n                    scoreTable={scoreTable}\r\n                    handleScoreAll={handleScoreAll}\r\n                    scoreTableIsUpToDate={scoreTableIsUpToDate}\r\n                    // downloadScoreTableFunction={downloadScoreTableFunction}\r\n                    scoreTableCsvString={scoreTableCsvString}\r\n                    alphas={scoreAlphas}\r\n                    handleOpenBigPicture={handleOpenBigPicture}\r\n                  ></ScoreAll>\r\n                )}\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Row>\r\n\r\n        <div>\r\n          <label\r\n            style={{\r\n              textAlign: \"left\",\r\n              backgroundColor: \"white\",\r\n              paddingLeft: \"10%\",\r\n              marginBottom: \"0.5%\",\r\n              userSelect: \"none\",\r\n            }}\r\n          >\r\n            Unclassified{\" \"}\r\n          </label>\r\n\r\n          <div>\r\n            <GridDropZone\r\n              className=\"dropzone \"\r\n              id=\"unclassified\"\r\n              boxesPerRow={8}\r\n              rowHeight={80}\r\n              style={{\r\n                height: \"20vw\",\r\n                maxHeight: 200,\r\n                minHeight: 150,\r\n                marginBottom: 10,\r\n                marginLeft: \"10%\",\r\n                width: \"80%\",\r\n              }}\r\n            >\r\n              {!fetching ? (\r\n                tileState.unclassified.map((item) => (\r\n                  <GridItem\r\n                    className=\"hoverTest\"\r\n                    style={{\r\n                      height: \"15vw\",\r\n                      width: \"15vw\",\r\n                      minHeight: 80,\r\n                      minWidth: 80,\r\n                      maxHeight: 120,\r\n                      maxWidth: 120,\r\n                      padding: 10,\r\n                    }}\r\n                    key={item.id}\r\n                  >\r\n                    <div className=\"grid-item\">\r\n                      <div\r\n                        onDoubleClick={() => {\r\n                          // console.log('double click: ' + item.info);\r\n                          handleOpenCellBigPicture(item.cellPair);\r\n                        }}\r\n                        className=\"grid-item-content\"\r\n                        style={{\r\n                          backgroundImage: `url(${item.address})`,\r\n                          height: \"5vw\",\r\n                          width: \"5vw\",\r\n                        }}\r\n                      >\r\n                        <span className=\"hoverText\">{item.info}</span>\r\n                      </div>\r\n                    </div>\r\n                  </GridItem>\r\n                ))\r\n              ) : (\r\n                <CircularProgress\r\n                  style={{\r\n                    height: \"6vw\",\r\n                    width: \"6vw\",\r\n                    marginTop: \"6%\",\r\n                    marginLeft: \"45%\",\r\n                  }}\r\n                />\r\n              )}\r\n            </GridDropZone>\r\n            <Dialog\r\n              style={{ alignItems: \"center\" }}\r\n              onClose={handleCloseCellBigPicture}\r\n              // fullWidth={480}\r\n              // maxWidth={480}\r\n              open={cellBigPictureDialogOpen}\r\n            >\r\n              <DialogTitle>{bigPictureTitle}</DialogTitle>\r\n              {/* <DialogTitle>Loss and Accuracy</DialogTitle> */}\r\n              <DialogContent\r\n                style={{ alignItems: \"center\", justifyContent: \"center\" }}\r\n              >\r\n                <img width={430} height={430} src={bigPictureSource}></img>\r\n              </DialogContent>\r\n            </Dialog>\r\n          </div>\r\n\r\n          <Row>\r\n            <label\r\n              style={{\r\n                textAlign: \"left\",\r\n                backgroundColor: \"white\",\r\n                paddingLeft: \"11%\",\r\n                userSelect: \"none\",\r\n                marginBottom: \"0.5%\",\r\n                marginTop: 0,\r\n              }}\r\n            >\r\n              Positive\r\n            </label>\r\n\r\n            <label\r\n              style={{\r\n                textAlign: \"left\",\r\n                backgroundColor: \"white\",\r\n                paddingRight: \"8%\",\r\n                userSelect: \"none\",\r\n                margin: \"auto\",\r\n                marginBottom: \"0.5%\",\r\n                marginTop: 0,\r\n              }}\r\n            >\r\n              Negative\r\n            </label>\r\n          </Row>\r\n\r\n          <Row>\r\n            <div style={{ width: \"39%\", marginLeft: \"11%\" }}>\r\n              <div\r\n                style={{\r\n                  height: \"200px\",\r\n                  width: \"100%\",\r\n                  overflowY: \"scroll\",\r\n                  overflowX: \"hidden\",\r\n                  // msOverflowY: 'scroll',\r\n                  // msOverflowStyle: 'none',\r\n\r\n                  // scrollbarWidth: 'none',\r\n                }}\r\n              >\r\n                <GridDropZone\r\n                  className=\"dropzone positive\"\r\n                  id=\"positive\"\r\n                  boxesPerRow={4}\r\n                  rowHeight={80}\r\n                  style={{\r\n                    height: 80 * Math.floor(tileState.positive.length / 4 + 1),\r\n                    minHeight: 240,\r\n                    width: \"100%\",\r\n                    overflowY: \"hidden\",\r\n                    // marginLeft: '22%',\r\n                    alignSelf: \"flex-end\",\r\n                    // marginRight: '11%',\r\n                  }}\r\n                >\r\n                  {!initialFetchingPositiveNegative ? (\r\n                    tileState.positive.map((item) => (\r\n                      <GridItem\r\n                        className=\"hoverTest\"\r\n                        style={{\r\n                          height: \"15vw\",\r\n                          width: \"15vw\",\r\n                          minHeight: 80,\r\n                          minWidth: 80,\r\n                          maxHeight: 105,\r\n                          maxWidth: 105,\r\n                          padding: 10,\r\n                        }}\r\n                        key={item.id}\r\n                      >\r\n                        <div className=\"grid-item\">\r\n                          <div\r\n                            onDoubleClick={() => {\r\n                              // console.log('double click: ' + item.info);\r\n                              handleOpenCellBigPicture(item.cellPair);\r\n                            }}\r\n                            className=\"grid-item-content\"\r\n                            style={{\r\n                              backgroundImage: `url(${item.address})`,\r\n                              height: \"5vw\",\r\n                              width: \"5vw\",\r\n                            }}\r\n                          >\r\n                            <span className=\"hoverText\">{item.info}</span>\r\n                          </div>\r\n                        </div>\r\n                      </GridItem>\r\n                    ))\r\n                  ) : (\r\n                    <CircularProgress\r\n                      style={{\r\n                        height: \"6vw\",\r\n                        width: \"6vw\",\r\n                        marginTop: \"15%\",\r\n                        marginLeft: \"43%\",\r\n                      }}\r\n                    />\r\n                  )}\r\n                </GridDropZone>\r\n              </div>\r\n            </div>\r\n            <div style={{ width: \"39%\", marginRight: \"11%\" }}>\r\n              <div\r\n                style={{\r\n                  height: \"200px\",\r\n                  width: \"100%\",\r\n                  overflowY: \"scroll\",\r\n                  overflowX: \"hidden\",\r\n\r\n                  // msOverflowY: 'scroll',\r\n                  // msOverflowStyle: 'none',\r\n\r\n                  // scrollbarWidth: 'none',\r\n                }}\r\n              >\r\n                <GridDropZone\r\n                  className=\"dropzone negative\"\r\n                  id=\"negative\"\r\n                  boxesPerRow={4}\r\n                  rowHeight={80}\r\n                  style={{\r\n                    height: 80 * Math.floor(tileState.negative.length / 4 + 1),\r\n                    minHeight: 240,\r\n                    marginRight: \"22%\",\r\n                    width: \"100%\",\r\n                    overflowY: \"hidden\",\r\n                    alignSelf: \"flex-start\",\r\n                  }}\r\n                >\r\n                  {!initialFetchingPositiveNegative ? (\r\n                    tileState.negative.map((item) => (\r\n                      <GridItem\r\n                        className=\"hoverTest\"\r\n                        style={{\r\n                          height: \"15vw\",\r\n                          width: \"15vw\",\r\n                          minHeight: 80,\r\n                          minWidth: 80,\r\n                          maxHeight: 105,\r\n                          maxWidth: 105,\r\n                          padding: 10,\r\n                        }}\r\n                        key={item.address}\r\n                      >\r\n                        <div className=\"grid-item\">\r\n                          <div\r\n                            onDoubleClick={() => {\r\n                              // console.log('double click: ' + item.info);\r\n                              handleOpenCellBigPicture(item.cellPair);\r\n                            }}\r\n                            className=\"grid-item-content\"\r\n                            style={{\r\n                              backgroundImage: `url(${item.address})`,\r\n                              height: \"5vw\",\r\n                              width: \"5vw\",\r\n                            }}\r\n                          >\r\n                            <span className=\"hoverText\">{item.info}</span>\r\n                          </div>\r\n                        </div>\r\n                      </GridItem>\r\n                    ))\r\n                  ) : (\r\n                    <CircularProgress\r\n                      style={{\r\n                        height: \"6vw\",\r\n                        width: \"6vw\",\r\n                        marginTop: \"15%\",\r\n                        marginLeft: \"43%\",\r\n                      }}\r\n                    />\r\n                  )}\r\n                </GridDropZone>\r\n              </div>\r\n            </div>\r\n          </Row>\r\n        </div>\r\n      </div>\r\n      {/* </Paper> */}\r\n    </GridContextProvider>\r\n  );\r\n}\r\n\r\nexport default TestUIMVP;\r\n"],"sourceRoot":""}